<article>
  <sn-post-content [post]="post"></sn-post-content>
  <div class="comment"></div>
  <section class="comments">
    <sn-post-comment-counter
      [count]="post.comments.length"
    ></sn-post-comment-counter>
    <hr />
    <sn-publisher
      placeholder="Publica un comentario"
      [user]="post.author"
      (publish)="addComment($event)"
    ></sn-publisher>
    <section>
      <sn-post-comment
        @listItems
        *ngFor="
          let comment of (post.comments
            | slice: 0:(commentsPage + 1) * commentsPageSize);
          trackBy: commentIdentity
        "
        [comment]="comment"
        [user]="user"
      ></sn-post-comment>
      <p
        class="show-more"
        *ngIf="(commentsPage + 1) * commentsPageSize < post.comments.length"
        (click)="commentsPage = commentsPage + 1"
      >
        <fa-icon [icon]="moreCommentsIcon"></fa-icon> Show more comments
      </p>
      <p
        class="show-more"
        *ngIf="(commentsPage + 1) * commentsPageSize >= post.comments.length"
        (click)="commentsPage = 0"
      >
        <fa-icon [icon]="lessCommentsIcon"></fa-icon> Show less comments
      </p>
    </section>
  </section>
  <fa-icon
    class="trash"
    [icon]="deleteCommentIcon"
    (click)="deletePost()"
  ></fa-icon>
</article>
